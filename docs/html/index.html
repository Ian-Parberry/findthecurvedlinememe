<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Find the Curved Line Meme: Find the Curved Line Meme</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Find the Curved Line Meme
   </div>
   <div id="projectbrief">Generating Optical Illusions</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Find the Curved Line Meme </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="section1"></a> </p><h2>1. Introduction </h2>
<p >The optical illusion shown in <a class="el" href="index.html#fig1">Fig. 1</a> appears to have first appeared on FaceBook in 2021 (see, for example, <a href="https://knowyourmeme.com/memes/find-the-curved-line">knowyourmeme.com</a>). If you look at the center of the image you will see what appear to be curved green lines at the edge of your vision (if you don't see them initially, make the image larger by zooming in or it or by making your browser wider). However, when you move your eyes to look directly at them, they will disappear.</p>
<p >The illusion uses the fact that we see clearly only the part of the image that is within the fovea of our eyes, whereas the image that you think that you see outside of that small area is in fact interpolated from incomplete data from the sparser rods and cones outside of the fovea. This interpolation is done by a small and easy to fool cluster of neurons outside of your conscious control. For more optical illusions of this type, see <a href="https://github.com/Ian-Parberry/opticalillusions">https://github.com/Ian-Parberry/opticalillusions</a>.</p>
<p ><a class="anchor" id="fig1"></a></p><div class="image">
<img src="original.png" alt="" width="50%"/>
<div class="caption">
Fig. 1: The original image.</div></div>
<p >If you examine <a class="el" href="index.html#fig1">Fig. 1</a> more closely, you will see that it is an \(8 \times 8\) tesselation using the tile shown in <a class="el" href="index.html#fig2">Fig. 2</a> using all 8 possible orientations.</p>
<p ><a class="anchor" id="fig2"></a></p><div class="image">
<img src="tile.png" alt=""/>
<div class="caption">
Fig. 2: A single tile.</div></div>
<p >To more easily see tile orientations, look at the two white rectangles circled in red in <a class="el" href="index.html#fig3">Fig. 3</a>. Notice that the upper rectangle is wider than it is long, and that the lower rectangle is a square.</p>
<p ><a class="anchor" id="fig3"></a></p><div class="image">
<img src="tile2.png" alt=""/>
<div class="caption">
Fig. 3: Features used to determine orientation.</div></div>
<p ><a class="el" href="index.html#fig4">Fig. 4</a> shows the image from <a class="el" href="index.html#fig1">Fig. 1</a> with each tile orientation colored and numbered using the key shown in <a class="el" href="index.html#table1">Table 1</a>.</p>
<p ><a class="anchor" id="fig4"></a></p><div class="image">
<img src="numbers.png" alt="" width="35%"/>
<div class="caption">
Fig. 4: The tesselated image with tile orientations colored and numbered.</div></div>
<p >Fortunately for us, GDI+ has an enumerated type for image orientation called <code>Gdiplus::RotateFlipType</code>. <a class="el" href="index.html#table1">Table 1</a> also shows the corresponding member of <code>Gdiplus::RotateFlipType</code> for each of the tile orientations shown in <a class="el" href="index.html#fig4">Fig. 4</a>. Notice that if a tile has orientation index <code>i</code> in the first column of <a class="el" href="index.html#table1">Table 1</a>, then it has flip type <code>(Gdiplus::RotateFlipType)i</code> in the last column of <a class="el" href="index.html#table1">Table 1</a>.</p>
<p ><a class="anchor" id="table1"></a></p><center> <table class="doxtable">
<caption>Table 1: Tile orientations. All rotations are clockwise.</caption>
<tr>
<th align="center">Index </th><th align="center">Color </th><th align="center">Description </th><th align="center"><code>Gdiplus::RotateFlipType</code>  </th></tr>
<tr>
<td align="center">0 </td><td>Red </td><td>Original </td><td><code>RotateNoneFlipNone</code>  </td></tr>
<tr>
<td align="center">1 </td><td>Green </td><td>Rotate 90° </td><td><code>Rotate90FlipNone</code>  </td></tr>
<tr>
<td align="center">2 </td><td>Cyan </td><td>Rotate 180° </td><td><code>Rotate180FlipNone</code>  </td></tr>
<tr>
<td align="center">3 </td><td>Blue </td><td>Rotate 270° </td><td><code>Rotate270FlipNone</code>  </td></tr>
<tr>
<td align="center">4 </td><td>Yellow </td><td>Flip X </td><td><code>RotateNoneFlipX</code>  </td></tr>
<tr>
<td align="center">5 </td><td>Orange </td><td>Rotate 90°, flip X </td><td><code>Rotate90FlipX</code>  </td></tr>
<tr>
<td align="center">6 </td><td>Magenta </td><td>Rotate 180°, flip X </td><td><code>Rotate180FlipX</code>  </td></tr>
<tr>
<td align="center">7 </td><td>Purple </td><td>Rotate 270°, flip X </td><td><code>Rotate270FlipX</code>  </td></tr>
</table>
</center><p >This enables us to hard-code the indices of the original tesselation shown in <a class="el" href="index.html#fig4">Fig. 4</a> as a two-dimensional array in row-major order:</p>
<div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> UINT nOriginal[8][8]{</div>
<div class="line">  {0, 1, 5, 4, 5, 6, 0, 3},</div>
<div class="line">  {1, 2, 6, 5, 6, 7, 3, 2},</div>
<div class="line">  {0, 1, 0, 1, 0, 1, 0, 1},</div>
<div class="line">  {1, 2, 3, 0, 3, 0, 3, 0},</div>
<div class="line">  {5, 6, 0, 3, 0, 1, 5, 4},</div>
<div class="line">  {6, 7, 3, 2, 1, 2, 6, 5},</div>
<div class="line">  {0, 1, 0, 1, 0, 1, 0, 1},</div>
<div class="line">  {3, 0, 3, 0, 1, 2, 3, 0}</div>
<div class="line">}; <span class="comment">//nOriginal</span></div>
</div><!-- fragment --><p >If the original tile is stored as a <code>Gdiplus::Bitmap</code>, then we can transform it to the orientation required in row <code>i</code> and column <code>j</code> of <a class="el" href="index.html#fig1">Fig. 1</a> (that is, <code>nOriginal[i][j]</code>) by calling <code>Gdiplus::Bitmap::RotateFlip((Gdiplus::RotateFlipType)nOriginal[i][j])</code></p>
<p ><a class="anchor" id="section2"></a> </p><h2>2. Screen Shots </h2>
<p ><a class="el" href="index.html#fig5">Fig. 5</a> shows a screen shot of the app with the original tesselation from <a class="el" href="index.html#fig1">Fig. 1</a>. Note that while the tesselation in <a class="el" href="index.html#fig1">Fig. 1</a>, which was downloaded from <a href="https://knowyourmeme.com/memes/find-the-curved-line">knowyourmeme.com</a>), has some idiosyncracies (the bottom row of tiles is incomplete, and tile alignment is shaky at best), the image shown in <a class="el" href="index.html#fig5">Fig. 5</a> does not.</p>
<p ><a class="anchor" id="fig5"></a></p><div class="image">
<img src="ss-original.png" alt="" width="50%"/>
<div class="caption">
Fig. 5: Screen shot showing the original tesselation.</div></div>
<p >Additionally, there does not appear to be anything special about the original tile orientations in <a class="el" href="index.html#fig1">Fig. 1</a>. A randomly selected set of orientations appears to do equally well, as shown in the example in <a class="el" href="index.html#fig6">Fig. 6</a>.</p>
<p ><a class="anchor" id="fig6"></a></p><div class="image">
<img src="ss-random.png" alt="" width="50%"/>
<div class="caption">
Fig. 6: Screen shot showing a random tesselation.</div></div>
<p ><a class="anchor" id="section3"></a> </p><h2>3. Code Overview </h2>
<p >It is assumed that the reader is familiar with the basics of Windows programming such as <code>WinMain</code>, the Window procedure, message passing, and drop-down menus. <code><a class="el" href="_main_8cpp.html" title="The window procedure WndProc(), and wWinMain().">Main.cpp</a></code> contains the mandatory Windows functions <code><a class="el" href="_main_8cpp.html#ad7483c50ba0ceb8cee64426d4e7e9bb3" title="Winmain.">wWinMain()</a></code> and a Window procedure <code><a class="el" href="_main_8cpp.html#a30a1e3b0304f1b083637664cbda94e72" title="Window procedure.">WndProc()</a></code>, which use a single global variable <code>static CMain* g_pMain</code>. Most of the other gnarly Windows-specific code, which used the <code>Win32</code> API, is hidden away in <code><a class="el" href="_windows_helpers_8cpp.html" title="Code for some helpful Windows-specific functions.">WindowsHelpers.cpp</a></code> and <code><a class="el" href="_windows_helpers_8cpp.html" title="Code for some helpful Windows-specific functions.">WindowsHelpers.cpp</a></code>. <code>Gdi+</code> is used for the graphics. The main class is <code><a class="el" href="class_c_main.html" title="The main class.">CMain</a></code>, which encapsulates the main body of the code in the approved object-oriented fashion.</p>
<p ><a class="anchor" id="section4"></a> </p><h2>4. The Controls </h2>
<p >The menu bar at the top of the program window has three drop-down menus, <a class="el" href="index.html#filemenu">File</a>, <a class="el" href="index.html#tesselationmenu">Tesselation</a>, and <a class="el" href="index.html#helpmenu">Help</a>.</p>
<p ><a class="anchor" id="filemenu"></a></p><h3>4.1 The <code>File</code> Menu</h3>
<p >The <code>File</code> menu has two options, <code>Save</code> and <code>Quit</code>. Selecting <code>Save</code> will let you save the current image as a PNG file. Selecting <code>Quit</code> will exit the application.</p>
<p ><a class="anchor" id="tesselationmenu"></a></p><h3>4.2 The <code>Tesselation</code> Menu</h3>
<p >The <code>Tesselation</code> menu has two options, <code>Original</code> and <code>Random</code>. Selecting <code>Original</code> will generate and display the original tesselation. Selecting <code>Random</code> will generate and display a pseudo-random tesselation.</p>
<p ><a class="anchor" id="helpmenu"></a></p><h3>4.3 The <code>Help</code> Menu</h3>
<p >The <code>Help</code> menu has two entries, <code>Display</code> <code>help</code> which opens up this documentation in a browser, and <code>About</code> which displays the <code>About</code> dialog box. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 29 2022 20:02:13 for Find the Curved Line Meme by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
